{
	"ItemType" : {
        "type" : "enum",
		"items" : {
			"1" : "Spareparts",
			"2" : "Manufacture"
		}
	},
	"Item" : {
        "sql" : {
            "tablename" : "items",
			"primarykey" : ["id"]
        },
		"fields" : {
			"id" : {
				"dbname" : "it_id",
				"type" : "int",
				"title" : "Id"
			},
            "name" : {
				"dbname" : "it_name",
				"type" : "string",
				"title" : "Name"
			},

			"type" : {
				"dbname" : "it_type",
				"type" : "int",
				"title" : "Type"
			}
		}
	},

	"ContractorType" : {
        "type" : "enum",
		"items" : {
			"1" : "Organization",
			"2" : "Emploee"
		}
	},
	"Contractor" : {
        "sql" : {
            "tablename" : "contractors",
			"primarykey" : ["id"]
		},
		"fields" : {
			"id" : {
				"dbname" : "co_id",
				"type" : "int",
				"title" : "Id"
			},
			"name" : {
				"dbname" : "co_name",
				"type" : "string",
				"title" : "Name"
			},

			"type" : {
				"dbname" : "co_type",
				"type" : "int",
				"title" : "Type",
				"lookup" : {
					"master" : "ContractorType"
				}
			}
		}
	},

    "Request" : {
        "tableview" : {
            "columns" : {
                "order" : ["id", "date", "equipment", "item", "qty"],
                "hidden" : ["id"],
                "width" : {"id": 80, "date": 120, "equipment": 200, "qty": 100}
            }
        },
        "sql" : {
            "tablename" : "requests",
            "select" : {
                "query" : "select * from v_requests",
                "primarykey" : ["re_id"]
            },
            "choose" : {
                "query" : "select * from v_requests",
                "primarykey" : ["re_id"],
                "lookupfield" : "item"
            }
        },
        "fields" : {
            "id" : {
                "dbname" : "re_id",
                "type" : "int",
                "title" : "Id"
            },
            "equipment" : {
                "dbname" : "et_name",
                "type" : "int",
                "title" : "Equipment",
                "lookup" : {
                    "query" : "SELECT et_id, et_name FROM equipment_types",
                    "fieldKeys" : ["et_id"],
                    "fieldName" : "re_name"
                }
            },
            "date" : {
                "dbname" : "re_date",
                "type" : "Date",
                "title" : "Date create",
                "format" : "dd.MM.yyyy"
            },
            "item" : {
                "dbname" : "item",
                "type" : "int",
                "title" : "Item",
                "lookup" : {
                    "query" : "SELECT it_id, it_name, ie_equipment_type FROM items \
                               JOIN items_equipment_types ON it_id = ie_item",
                    "fieldKeys" : ["it_id"],
                    "fieldName" : "it_name",

                    "filer" : {
                        "fieldSourceValue" : "equipment",
                        "fieldFilter" : "ie_equipment_type"
                    }
                }
            },
            "qty" : {
                "dbname" : "re_qty",
                "type" : "double",
                "title" : "Qty"
            },
            "storage" : {
                "dbname" : "re_storage",
                "type" : "int",
                "title" : "Storage",
                "lookup" : {
                    "query" : "SELECT st_id, st_name FROM storages"
                }
            }
        }
    }
}
